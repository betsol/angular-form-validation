!function(e,t){"use strict";function n(e){return{restrict:"E",require:["?ngModel","^?form"],priority:10,link:function(t,n,r,i){var a=i[0],o=i[1];null!==a&&null!==o&&e.register(t,n,r,a,o)}}}function r(e,t){var n=[];this.register=function(r,a,o,s,l){i(l,s);var c=l.$name+'["'+s.$name+'"]',u=-1!==n.indexOf(c);e.attach(r,a,o,s,l,c),u||(t.attach(r,a,o,s,l,c),n.push(c))}}function i(e,t){"undefined"==typeof e.forceValidation&&(e.forceValidation=o),"undefined"==typeof t.forceValidation&&(t.validationForced=!1,t.forceValidation=s)}function a(e,t){return{showErrors:function(n,r,i,a){e.decorateElement(n,r,!1,a),t.renderErrorList(n,r.$name,i,a)}}}function o(e){var n=this;t.forEach(n,function(t){"object"==typeof t&&"function"==typeof t.forceValidation&&t.forceValidation(e)})}function s(e){var t=this;t.validationForced=e}function l(){var e=this,t={className:c,bootstrap:u};t.default=t.className;var n=null;e.useBuiltInDecorator=function(e){if("undefined"==typeof t[e])throw new Error("Unknown built-in decorator requested: "+e+".");return n=new t[e]},e.getDecorator=function(){return n},e.setDecorator=function(t){return n=t,e},e.$get=function(){return null===n&&(n=new t.default),{attach:function(e,t,n,r,i,a){var o=this,s=function(){o.redecorateElement(r,t)};e.$watch(a+".$valid",s),e.$watch(a+".$pristine",s),e.$watch(a+".modified",s),e.$watch(a+".validationForced",s)},redecorateElement:function(e,t){e.$dirty||e.validationForced?e.$invalid?n.decorateElement(t,!1):e.modified?n.decorateElement(t,!0):n.clearDecorations(t):n.clearDecorations(t)},decorateElement:function(e,t,r,i){var a=this,o=y(e,t.$name);i&&o.one("input",function(){a.redecorateElement(t,o)}),n.decorateElement(o,r)}}}}function c(){var e,t="valid",n="invalid";return{getDecoratedElement:function(t){return"function"==typeof e?e(t):t},setValidClassName:function(e){return t=e,this},setInvalidClassName:function(e){return n=e,this},useTraverser:function(t){return e=t,this},decorateElement:function(e,r){var i=this.getDecoratedElement(e);return null===i?(console.log("Missing decorated element for input element",e),void 0):(r?i.removeClass(n).addClass(t):i.removeClass(t).addClass(n),void 0)},clearDecorations:function(e){var r=this.getDecoratedElement(e);return null===r?(console.log("Missing decorated element for input element",e),void 0):(r.removeClass(n).removeClass(t),void 0)}}}function u(){var e,n,r="has-success",i="has-error",a="has-feedback",o="span",s="form-control-feedback",l="form-group",u="radio",m="checkbox",f="glyphicons",d=!0,h={glyphicons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove"},fontawesome:{valid:"fa fa-check",invalid:"fa fa-exclamation-circle"}},v=["checkbox","radio"],g=function(e){var n=null;return t.forEach([l,m,u],function(t){null===n&&(n=L(e,t))}),n},p=new c;p.setValidClassName(r),p.setInvalidClassName(i),p.useTraverser(g);var y={useIcons:function(e){return d=e,this},useIconLibrary:function(e){return f=e,this},setIconValidClassName:function(t){return e=t,this},setIconInvalidClassName:function(e){return n=e,this},getIconClassName:function(t){return t?"undefined"!=typeof e?e:h[f].valid:"undefined"!=typeof n?n:h[f].invalid},getExistingIconElement:function(e){return C(o,s,e[0])},createIconElement:function(e){var n=t.element(document.createElement(o)).addClass(s);return e.append(n),n},showIconElement:function(e){return I(e),this},hideIconElement:function(e){return E(e),this},decorateElement:function(e,t){p.decorateElement.apply(this,arguments);var n=e.attr("type"),r=-1===v.indexOf(n);if(d&&r){var i=p.getDecoratedElement(e);if(null===i)return console.log("Missing decorated element for input element",e),void 0;i.addClass(a);var o=this.getExistingIconElement(i);o||(o=this.createIconElement(i)),o.removeClass(this.getIconClassName(!t)).addClass(this.getIconClassName(t)),this.showIconElement(o)}},clearDecorations:function(e){if(p.clearDecorations.apply(this,arguments),d){var t=p.getDecoratedElement(e);if(null===t)return console.log("Missing decorated element for input element",e),void 0;var n=this.getExistingIconElement(t);n&&this.hideIconElement(n)}}};return t.extend({},p,y)}function m(){var e,n,r,i=this,a={"default":h,bootstrap:v},o=null;i.useBuiltInErrorListRenderer=function(e){if("undefined"==typeof a[e])throw new Error("Unknown built-in error list renderer requested: "+e+".");return o=new a[e]},i.setErrorListRenderer=function(e){return o=e,i},i.useTraverser=function(t){return e=t,i},i.setLanguage=function(e){return n=e,i},i.setDictionary=function(e){return r=e,i},i.buildErrorListFromConstraints=function(e,i){var a={};return t.forEach(e,function(e,t){if(e){var o;t in i&&(o=[i[t]]),a[t]=r.getString(t,o,n)}}),a},i.$get=function(){return e||(e=d),r||(r=new g),o||i.useBuiltInErrorListRenderer("default"),{attach:function(t,n,r,a,s,l){var c=f(r),u=e(n),m=function(){if((a.$dirty||a.validationForced)&&a.$invalid){var e=i.buildErrorListFromConstraints(a.$error,c);o.render(u,e)}else o.clear(u)};t.$watch(l+".$error",m,!0),t.$watch(l+".$pristine",m),t.$watch(l+".validationForced",m)},renderErrorList:function(t,n,r,i){var a=y(t,n),s=e(a);i&&a.one("input",function(){o.clearTemporary(s)}),o.render(s,r,i)},getErrorListRenderer:function(){return o}}}}function f(e){var t={};return e.ngMinlength&&(t.minlength=parseInt(e.ngMinlength)),e.ngMaxlength&&(t.maxlength=parseInt(e.ngMaxlength)),e.min&&(t.min=parseFloat(e.min)),e.max&&(t.max=parseFloat(e.max)),t}function d(e){return e.parent()}function h(){return{listClassName:"error-list",listElementType:"ul",listItemClassNamePrefix:"constraint-",listItemElementType:"li",listItemTemporaryClassName:"constraint-temporary",listItemConstraintRegExp:null,render:function(e,t,n){"undefined"==typeof n&&(n=!1);var r=!p(t),i=this.getListElement(e);r?(i||(i=this.createListElement(e)),this.renderErrorItems(i,t,n),this.showListElement(i)):i&&this.hideListElement(i)},clear:function(e){var t=this.getListElement(e);t&&(this.removeTemporaryItems(t),this.hideListElement(t))},clearTemporary:function(e){var t=this.getListElement(e);this.removeTemporaryItems(t)},renderErrorItems:function(e,n,r){var i=this;this.removeTemporaryItems(e),t.forEach(this.getExistingListItems(e),function(e){var r=t.element(e),a=r.attr("class"),o=i.extractConstraintNameFromClassName(a);o?n[o]||i.hideListItem(r):i.removeListItem(r)}),t.forEach(n,function(t,n){var a=i.getExistingListItem(e,n);a||(a=i.createListItem(e,n,t,r)),i.showListItem(a)})},removeTemporaryItems:function(e){var n=this;t.forEach(n.getExistingListItems(e),function(e){var r=t.element(e);r.hasClass(n.listItemTemporaryClassName)&&n.removeListItem(r)})},extractConstraintNameFromClassName:function(e){this.listItemConstraintRegExp||(this.listItemConstraintRegExp=new RegExp(this.listItemClassNamePrefix+"(\\S+)"));var t=this.listItemConstraintRegExp.exec(e);return t[1]?t[1]:null},getListElement:function(e){var n=C(this.listElementType,this.listClassName,e[0]);return n?t.element(n):null},listElementDecorator:function(){},createListElement:function(e){var n=t.element(document.createElement(this.listElementType)).addClass(this.listClassName);return this.listElementDecorator(n),e.append(n),n},hideListElement:function(e){E(e)},showListElement:function(e){I(e)},getExistingListItems:function(e){return e.find(this.listItemElementType)},getExistingListItem:function(e,n){var r=C(this.listItemElementType,this.getListItemClassName(n),e[0]);return r?t.element(r):null},listItemDecorator:function(){},createListItem:function(e,n,r,i){var a=t.element(document.createElement(this.listItemElementType)).addClass(this.getListItemClassName(n)).html(r);return i&&a.addClass(this.listItemTemporaryClassName),this.listItemDecorator(a),e.append(a),a},removeListItem:function(e){e.remove()},hideListItem:function(e){E(e)},showListItem:function(e){I(e)},getListItemClassName:function(e){return this.listItemClassNamePrefix+e}}}function v(){var e=new h;e.listElementType="div",e.listItemElementType="span";var n={listItemClassName:"help-block",listItemDecorator:function(e){e.addClass(this.listItemClassName)}};return t.extend({},e,n)}function g(){var t="en",n=e.navigator.userLanguage||e.navigator.language||t,r={en:{generic:"Please enter a correct value",required:"Please fill in this required field",email:"Please specify valid E-Mail address",minlength:"Please enter a value not less than {0} characters",maxlength:"Please enter a value not greater than {0} characters",number:"Please enter a correct number",min:"Please enter a number not less than {0}",max:"Please enter a number not greater than {0}",pattern:"Please enter a correct value according to specified rules",url:"Please enter a valid URL address"},ru:{generic:"Пожалуйста введите корректное значение",required:"Пожалуйста заполните это обязательное поле",email:"Пожалуйста укажите корректный E-Mail адрес",minlength:"Пожалуйста укажите значение не короче {0} символов",maxlength:"Пожалуйста укажите значение не длиннее {0} символов",number:"Пожалуйста введите корректное число",min:"Пожалуйста укажите число не меньше чем {0}",max:"Пожалуйста укажите число не больше чем {0}",pattern:"Пожалуйста введите значение в соответствии с указанными требованиями",url:"Пожалуйста укажите корректный URL адрес"}},i=function(e){for(var t=[],n=e.split("-");n.length>0;)t.push(n.join("-")),n.pop();return t},a=function(e){var t=null,n=i(e);for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];if(r[o]){t=r[o];break}}return t};return{getString:function(e,i,o){"undefined"==typeof o&&(o=n);var s="",l=r[t],c=a(o);if(s=c[e]?c[e]:c.generic?c.generic:l[e]?l[e]:l.generic,"undefined"!=typeof i)for(var u in i)i.hasOwnProperty(u)&&(s=s.replace("{"+u+"}",i[u]));return s}}}function p(e){if("object"!=typeof e)throw new Error("Object must be specified.");if("undefined"!=typeof Object.keys)return 0===Object.keys(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function E(t){if(0!=t.length)if("undefined"!=typeof t.hide)t.hide();else{var n=e.getComputedStyle(t[0],null),r=n.display;if("none"===r)return;t.data("oldDisplayMode",r),t.css("display","none")}}function I(e){if(0!=e.length)if("undefined"!=typeof e.show)e.show();else{var t=e.data("oldDisplayMode");t||(t="block"),e.css("display",t)}}function y(e,t){return $('form[name="'+e+'"]').find('input[name="'+t+'"],textarea[name="'+t+'"],select[name="'+t+'"]')}function C(e,n,r){"undefined"==typeof r&&(r=document);var i=null;return t.forEach(r.getElementsByTagName(e),function(e){var r=t.element(e);r.hasClass(n)&&(i=r)}),i}function L(e,n){for(var r=t.element(e);;){if(r=r.parent(),0===r.length)return null;if(r.hasClass(n))return r}}var x=["formValidationRegistration",n];t.module("ngFormValidation",["ng","ngInputModified"]).provider("formValidationDecorations",l).provider("formValidationErrors",m).service("formValidationRegistration",["formValidationDecorations","formValidationErrors",r]).service("formValidationHelper",["formValidationDecorations","formValidationErrors",a]).directive("input",x).directive("textarea",x).directive("select",x)}(window,angular);